import { Callout } from 'nextra-theme-docs'
import { Tab, Tabs } from 'nextra-theme-docs';
import Image from 'next/image';

# Setup credentials

{/* TODO https://roqtech.atlassian.net/wiki/spaces/RC/pages/705232897/ROQ+Auth+Doc#(2)-Credentials */}

Login to the [console](https://console.roq.tech/), copy the needed credentials and paste them into the `.env` file of
your web application. You need to add the `ROQ_SECRET` variable. The value can be generated by
running `openssl rand -hex 32` on the
command line.

## Public variables, used on client-side

| Variable                       | Description                                                     |
|--------------------------------|-----------------------------------------------------------------|
| `NEXT_PUBLIC_ROQ_CLIENT_ID`    | Identifies the client on the client-side                        | 
| `NEXT_PUBLIC_ROQ_PLATFORM_URL` | Instance of ROQ Platform to which this environment is connected |
| `NEXT_PUBLIC_BASE_URL`         | Application base URL                                            |

## Server variables used for ROQ connection

| Variable             | Description                                                                                                                                             |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ROQ_BASE_URL`       | Application base URL                                                                                                                                    |
| `ROQ_PLATFORM_URL`   | Instance of ROQ Platform to which this environment is connected                                                                                         |
| `ROQ_ENVIRONMENT_ID` | Identifier of the environment, like "production- or staging-environment"                                                                                |
| `ROQ_API_KEY`        | The ROQ API key secures the server-side interaction between your application and ROQ Platform. Keep confidential and don't exose it to the client-side. |

## Server variables for ROQ auth

| Variable                | Description                                                                                                                                             |
|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ROQ_SECRET`            | The secret key is used to sign the JWT tokens for the session. You need to generate this key yourself using `openssl rand -hex 32` on the command line. |
| `ROQ_CLIENT_ID`         | Identifies the client on the server-side                                                                                                                |
| `ROQ_AUTH_CALLBACK_URL` | Handles callbacks from the hosted login page after successful authentication.                                                                           |
| `ROQ_AUTH_LOGIN_URL`    | Performs a secure redirect to the managed login and registration page                                                                                   |                                                                                                                                      
| `ROQ_AUTH_LOGOUT_URL`   | Clears the session tokens.                                                                                                                              |
| `ROQ_AUTH_URL`          | The URL of the managed login and registration page. This URL can be [customized](/authentication/advanced-topics/custom-domain).                        |

# Additional configuration

The following parameters are optional and can be used for further adjustments:

| Config variable                  | Description                                                     | Example            |
|----------------------------------|-----------------------------------------------------------------|--------------------|
| `ROQ_SESSION_MAX_AGE`            | Maximum time (seconds) of an active session. Default: 30 days   | `86400` (1 day)    |
| `ROQ_SESSION_INACTIVITY_TIMEOUT` | Maximum time (seconds) of allowed inactivity. Default: 24 hours | `43200` (12 hours) |
|                                  |                                                                 |                    |

Then we have a bunch of cookie settings. In cookie we have domain which is basically the domain for
which the cookie will be set. Then, we have bot which defaults to the root path of the application. And this is the path
at which the cookie is set. And we have HTTP only which is defaulted to true for security. And the variable is ROQ
session cookie HTTP only. This basically means that the client side scripts cannot read the cookie. And it can only be
read on the server side. So this is the standard practice and that's why it's set to true. The next one is secure, which
tells browsers that this key is only available on secure connections. And by default it is false for local development,
but in a production environment. You would set it to true and deployed using SSL. Then we have same site under cookie
settings. And these are one of lacs stricter non visa standard same site values for cookies and it defaults to strict.
Then on the authorization params params these are the query parameters which are sent to the authorization server. So
the first one is response type. And this can be either ID token code and ID token or code. Most commonly we use both
code and ID token.